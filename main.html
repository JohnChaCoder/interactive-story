<!--
// ==============================================================================================================
// The Orange Cat in Grade School Hijinx: Black Cat Group Bullies - An Interactive Story
//
// Source code created by JohnChaCoder
// With help and thanks to mariflo35 and KrystalV8
//
// Started on Wednesday October 23, 2019
//
// Created and edited using Visual Studio Code. Â© 2019 Microsoft Corporation. All rights reserved.
// ==============================================================================================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- This is a favicon -->
    <link rel="icon"
    type="image/png"
    href="assets/favicon.png">
    <!-- This is for the web styling of the look and feel on the website-->
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- The title that shows on the browser -->
    <title>The Orange Cat and the Black Cat Group</title>
</head>
<body>

    <!-- This is the title for the interactive story -->
    <h1 class="Title">The Orange Cat in Grade School Hijinx: Black Cat Group Bullies - An Interactive Story</h1>
    <p></p>
    <!--
    <p class="intro">You are The Orange Cat as he begins his day at the school.</p>
    <p></p>
    -->
    <p class="intro">It all began on a normal Monday morning at the elementary school...</p>

    <!-- This displays each part of the story in these tags that are stored in the array -->
    <div id="story" class="story">

    </div>
    <p></p>
    <div id="buttons" class="buttons">

    </div>

    <!-- Everything from here on out is JavaScript code -->
    <script>
    
        // Our parts of the story in an array
        let storyContain = document.getElementById("story");

        // Our story context
        //storyContain.innerHTML = ""

        // Our buttons from the array
        let btnContain = document.getElementById("buttons");

        // Start on the intro
        let pagehist = ["intro"];

// ============================================================================
// The "story" object, which stores the different parts of the story
//
// choices - The button choices that are different in each part of the story
// ============================================================================
        const story = {
            intro : {
                text : "The Orange Cat goes to school that morning and hears the Black Cat Group hurting the students in the hallways.\n\nWhat would he do?",
                choices : [
                    ["Go to class", "option1"],
                    ["Confront", "refuse"],
                    ["Go home", "returnhome"]
                ]
            },
            option1 : {
                text : "He goes to class and his day continues on as normal.\n\nLunch time. The Orange Cat then sees the group again.\n\nWhat would he do?",
                choices : [
                    ["Confront them", "option2"],
                    ["Do not confont them", "option3"]
                ]
            },
            refuse : {
                text : "He refuses to confront them because he doesn't want to get hurt like the student that was being currently bullied by the group.\nSo he goes to his class and his day continues on as normal.\n\nLunch time. The Orange Cat then sees the group again.\n\nWhat would he do?",
                choices : [
                    ["Confront them", "option2"],
                    ["Do not confont them", "option3"]
                ]
            },
            returnhome : {
                text : "He felt that since he does not want to get hurt, he still wanted to be friends with everyone. So he continued on his day and went home that evening.\n\nThe next day, he still sees the group bullying another student. He just continues to go to his class as normal, since he still wanted to do something about the group during lunch.\n\nLunch time. The Orange Cat then sees the group again.\n\nWhat would he do?",
                choices : [
                    ["Confront them", "option2"],
                    ["Do not confont them", "option3"]
                ]
            },
            option2 : {
                text : "This right here is the option 2 thingery",
                choices : [
                    ["seven", "option3"],
                    ["eight", "option4"],
                    ["nine", "option5"]
                ]
            },
            option3 : {
                text : "This right here is the option 3 thingery",
                choices : [
                    ["ten", "option4"],
                    ["eleven", "option5"],
                    ["twelve", "option6"]
                ]
            },
            option4 : {
                text : "This right here is the option 4 thingery",
                choices : [
                    ["thirteen", "option5"],
                    ["fourteen", "option6"],
                    ["fifteen", "null"]
                ]
            },
            option5 : {
                text : "This right here is the option 5 thingery",
                choices : [
                    ["sixteen", "option6"],
                    ["seventeen", "null"],
                    ["eighteen", "null"]
                ]
            },
            option6 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "finalPage"],
                    ["twenty", "finalPage"],
                    ["twentyone", "finalPage"]
                ]
            },
            option7 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option8 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option9 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option10 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option11 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option12 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option13 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option14 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            option15 : {
                text : "This right here is the option 6 thingery",
                choices : [
                    ["nineteen", "null"],
                    ["twenty", "null"],
                    ["twentyone", "null"]
                ]
            },
            finalPage : {
                text : "This is the end of the story\nPlease refresh the page to play again",
                choices : []
            },
            // A null command. Does nothing, basically.
            null : {
                text : "null",
                choices : []
            }
        }

// ============================================================================
// Subroutine that creates a button from the array of choices
// 
// btnText - Shows the text on the button that was created
// choice - The choices shown that are different in each part of the story
// ============================================================================
        function createBtn(btnText, choice) {
            // create a button
            let button = document.createElement
            ("button");

            // Get the text
            button.innerHTML = btnText

            // append to HTML(?)
            btnContain.appendChild(button);

            // Outputs the choice you have made after clicking the button
            button.addEventListener ("click", function () {
                pagehist.push(choice);
                alert("You chose " + choice);
                outputStory();
            });
        }

        // function to show a story
        function showStory(text) {
            let storyItem = document.createElement
            ("p");  // paragraph tag

            // stores the text(?)
            storyItem.innerText = text

            // append to HTML(?)
            storyContain.appendChild(storyItem);
        }

        // function to output the story into HTML
        function outputStory() {

            // sets the current page to the last index of the array.
            let currentpage = pagehist[pagehist.length - 1];

            // reset the story HTML and buttons
            storyContain.innerHTML  = "";
            btnContain.innerHTML    = "";
            
            // builds the story text from the array
            for (let page of pagehist) {
                showStory(story[page].text);
            }

            // builds the buttons for the story in the array
            for (let choice of story[currentpage].choices) {
                createBtn(choice[0], choice[1])
            }
        }
        
        // Shows the current story
        outputStory();

    </script>

    <p></p>
    <h5 class="copyright">Copyright (C) 2019.<br>Some of the features of this site may not work in all versions of Internet Explorer.</h5>
</body>
</html>